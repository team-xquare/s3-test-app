// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.960
package templates

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

func Dashboard(username string, role string) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<!doctype html><html lang=\"en\"><head><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><title>Document Management System</title><style>\n\t\t\t* {\n\t\t\t\tmargin: 0;\n\t\t\t\tpadding: 0;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t}\n\n\t\t\thtml, body {\n\t\t\t\theight: 100%;\n\t\t\t\tfont-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\n\t\t\t\tbackground-color: #1a1a1a;\n\t\t\t\tcolor: #e0e0e0;\n\t\t\t}\n\n\t\t\t.container {\n\t\t\t\tdisplay: flex;\n\t\t\t\theight: 100vh;\n\t\t\t}\n\n\t\t\t.sidebar {\n\t\t\t\twidth: 200px;\n\t\t\t\tbackground-color: #121212;\n\t\t\t\tborder-right: 1px solid #333;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t}\n\n\t\t\t.sidebar-content {\n\t\t\t\tflex: 1;\n\t\t\t\tpadding: 20px 0;\n\t\t\t\toverflow-y: auto;\n\t\t\t}\n\n\t\t\t.sidebar-footer {\n\t\t\t\tpadding: 20px;\n\t\t\t\tborder-top: 1px solid #333;\n\t\t\t}\n\n\t\t\t.user-info {\n\t\t\t\tpadding: 0 20px;\n\t\t\t\tmargin-bottom: 20px;\n\t\t\t\tfont-size: 12px;\n\t\t\t}\n\n\t\t\t.user-info div {\n\t\t\t\tmargin-bottom: 5px;\n\t\t\t}\n\n\t\t\t.user-name {\n\t\t\t\tfont-weight: 600;\n\t\t\t\tcolor: #e0e0e0;\n\t\t\t\tmargin-bottom: 5px;\n\t\t\t}\n\n\t\t\t.user-role {\n\t\t\t\tcolor: #888;\n\t\t\t\ttext-transform: uppercase;\n\t\t\t\tletter-spacing: 0.5px;\n\t\t\t\tfont-size: 11px;\n\t\t\t}\n\n\t\t\t.sidebar h2 {\n\t\t\t\tpadding: 10px 20px;\n\t\t\t\tfont-size: 11px;\n\t\t\t\tfont-weight: 700;\n\t\t\t\ttext-transform: uppercase;\n\t\t\t\tletter-spacing: 1px;\n\t\t\t\tcolor: #555;\n\t\t\t\tmargin-top: 20px;\n\t\t\t\tmargin-bottom: 10px;\n\t\t\t}\n\n\t\t\t.nav-item {\n\t\t\t\tpadding: 12px 20px;\n\t\t\t\tcursor: pointer;\n\t\t\t\tfont-size: 13px;\n\t\t\t\tcolor: #b0b0b0;\n\t\t\t\tborder-left: 3px solid transparent;\n\t\t\t\tbackground-color: #121212;\n\t\t\t}\n\n\t\t\t.nav-item:hover {\n\t\t\t\tbackground-color: #1f1f1f;\n\t\t\t\tcolor: #e0e0e0;\n\t\t\t}\n\n\t\t\t.nav-item.active {\n\t\t\t\tbackground-color: #1f1f1f;\n\t\t\t\tborder-left-color: #4a9eff;\n\t\t\t\tcolor: #e0e0e0;\n\t\t\t}\n\n\t\t\t.logout-btn {\n\t\t\t\twidth: 100%;\n\t\t\t\tpadding: 10px 20px;\n\t\t\t\tborder: none;\n\t\t\t\tfont-size: 13px;\n\t\t\t\tbackground-color: #444;\n\t\t\t\tcolor: #e0e0e0;\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\n\t\t\t.logout-btn:hover {\n\t\t\t\tbackground-color: #555;\n\t\t\t}\n\n\t\t\t.main-content {\n\t\t\t\tflex: 1;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t}\n\n\t\t\t.header {\n\t\t\t\tbackground-color: #1a1a1a;\n\t\t\t\tpadding: 20px 30px;\n\t\t\t\tborder-bottom: 1px solid #333;\n\t\t\t}\n\n\t\t\t.header h1 {\n\t\t\t\tfont-size: 20px;\n\t\t\t\tfont-weight: 600;\n\t\t\t\tcolor: #e0e0e0;\n\t\t\t}\n\n\t\t\t.content {\n\t\t\t\tflex: 1;\n\t\t\t\toverflow-y: auto;\n\t\t\t\tpadding: 30px;\n\t\t\t}\n\n\t\t\t.page {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\n\t\t\t.page.active {\n\t\t\t\tdisplay: block;\n\t\t\t}\n\n\t\t\t.upload-zone {\n\t\t\t\tborder: 2px solid #333;\n\t\t\t\tpadding: 40px 20px;\n\t\t\t\ttext-align: center;\n\t\t\t\tcursor: pointer;\n\t\t\t\tbackground-color: #1f1f1f;\n\t\t\t\tmargin-bottom: 20px;\n\t\t\t}\n\n\t\t\t.upload-zone:hover {\n\t\t\t\tborder-color: #4a9eff;\n\t\t\t\tbackground-color: #212121;\n\t\t\t}\n\n\t\t\t.upload-zone.dragover {\n\t\t\t\tborder-color: #4a9eff;\n\t\t\t\tbackground-color: #1a2a35;\n\t\t\t}\n\n\t\t\t.upload-zone p {\n\t\t\t\tcolor: #888;\n\t\t\t\tfont-size: 14px;\n\t\t\t\tmargin: 10px 0;\n\t\t\t}\n\n\t\t\t#fileInput {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\n\t\t\t.button {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tpadding: 10px 20px;\n\t\t\t\tmargin-right: 10px;\n\t\t\t\tborder: none;\n\t\t\t\tfont-size: 13px;\n\t\t\t\tfont-weight: 500;\n\t\t\t\tcursor: pointer;\n\t\t\t\ttext-decoration: none;\n\t\t\t\tcolor: #e0e0e0;\n\t\t\t}\n\n\t\t\t.button-primary {\n\t\t\t\tbackground-color: #4a9eff;\n\t\t\t\tcolor: #000;\n\t\t\t}\n\n\t\t\t.button-primary:hover {\n\t\t\t\tbackground-color: #3a8eef;\n\t\t\t}\n\n\t\t\t.button-danger {\n\t\t\t\tbackground-color: #ff4444;\n\t\t\t\tcolor: #fff;\n\t\t\t\tpadding: 6px 12px;\n\t\t\t\tfont-size: 12px;\n\t\t\t\tmargin-right: 5px;\n\t\t\t}\n\n\t\t\t.button-danger:hover {\n\t\t\t\tbackground-color: #dd3333;\n\t\t\t}\n\n\t\t\t.button-secondary {\n\t\t\t\tbackground-color: #444;\n\t\t\t\tcolor: #e0e0e0;\n\t\t\t}\n\n\t\t\t.button-secondary:hover {\n\t\t\t\tbackground-color: #555;\n\t\t\t}\n\n\t\t\t.file-table {\n\t\t\t\twidth: 100%;\n\t\t\t\tborder-collapse: collapse;\n\t\t\t\tmargin-top: 15px;\n\t\t\t}\n\n\t\t\t.file-table thead {\n\t\t\t\tbackground-color: #1f1f1f;\n\t\t\t\tborder-bottom: 1px solid #333;\n\t\t\t}\n\n\t\t\t.file-table th {\n\t\t\t\tpadding: 12px;\n\t\t\t\ttext-align: left;\n\t\t\t\tfont-weight: 600;\n\t\t\t\tfont-size: 12px;\n\t\t\t\tcolor: #b0b0b0;\n\t\t\t\ttext-transform: uppercase;\n\t\t\t\tletter-spacing: 0.5px;\n\t\t\t}\n\n\t\t\t.file-table td {\n\t\t\t\tpadding: 12px;\n\t\t\t\tborder-bottom: 1px solid #333;\n\t\t\t\tfont-size: 13px;\n\t\t\t\tcolor: #c0c0c0;\n\t\t\t}\n\n\t\t\t.file-table tbody tr:hover {\n\t\t\t\tbackground-color: #1f1f1f;\n\t\t\t}\n\n\t\t\t.file-name {\n\t\t\t\tcolor: #e0e0e0;\n\t\t\t\tfont-weight: 500;\n\t\t\t\tword-break: break-all;\n\t\t\t}\n\n\t\t\t.actions {\n\t\t\t\tdisplay: flex;\n\t\t\t\tgap: 5px;\n\t\t\t}\n\n\t\t\t.message {\n\t\t\t\tpadding: 12px 16px;\n\t\t\t\tmargin-bottom: 15px;\n\t\t\t\tfont-size: 13px;\n\t\t\t\tdisplay: none;\n\t\t\t\tborder-left: 3px solid;\n\t\t\t}\n\n\t\t\t.message.show {\n\t\t\t\tdisplay: block;\n\t\t\t}\n\n\t\t\t.message-success {\n\t\t\t\tbackground-color: #1a3a2a;\n\t\t\t\tcolor: #4ade80;\n\t\t\t\tborder-left-color: #4ade80;\n\t\t\t}\n\n\t\t\t.message-error {\n\t\t\t\tbackground-color: #3a1a1a;\n\t\t\t\tcolor: #ff6b6b;\n\t\t\t\tborder-left-color: #ff6b6b;\n\t\t\t}\n\n\t\t\t.empty-state {\n\t\t\t\ttext-align: center;\n\t\t\t\tpadding: 50px 20px;\n\t\t\t\tcolor: #666;\n\t\t\t}\n\n\t\t\t.user-list {\n\t\t\t\twidth: 100%;\n\t\t\t\tborder-collapse: collapse;\n\t\t\t}\n\n\t\t\t.user-list thead {\n\t\t\t\tbackground-color: #1f1f1f;\n\t\t\t\tborder-bottom: 1px solid #333;\n\t\t\t}\n\n\t\t\t.user-list th {\n\t\t\t\tpadding: 12px;\n\t\t\t\ttext-align: left;\n\t\t\t\tfont-weight: 600;\n\t\t\t\tfont-size: 12px;\n\t\t\t\tcolor: #b0b0b0;\n\t\t\t\ttext-transform: uppercase;\n\t\t\t\tletter-spacing: 0.5px;\n\t\t\t}\n\n\t\t\t.user-list td {\n\t\t\t\tpadding: 12px;\n\t\t\t\tborder-bottom: 1px solid #333;\n\t\t\t\tfont-size: 13px;\n\t\t\t\tcolor: #c0c0c0;\n\t\t\t}\n\n\t\t\t.user-list tbody tr:hover {\n\t\t\t\tbackground-color: #1f1f1f;\n\t\t\t}\n\n\t\t\t.role-badge {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tpadding: 4px 8px;\n\t\t\t\tborder-radius: 0;\n\t\t\t\tfont-size: 11px;\n\t\t\t\tfont-weight: 600;\n\t\t\t\ttext-transform: uppercase;\n\t\t\t\tletter-spacing: 0.5px;\n\t\t\t}\n\n\t\t\t.role-badge.admin {\n\t\t\t\tbackground-color: #ff4444;\n\t\t\t\tcolor: #fff;\n\t\t\t}\n\n\t\t\t.role-badge.uploader {\n\t\t\t\tbackground-color: #4a9eff;\n\t\t\t\tcolor: #000;\n\t\t\t}\n\n\t\t\t.role-badge.viewer {\n\t\t\t\tbackground-color: #444;\n\t\t\t\tcolor: #e0e0e0;\n\t\t\t}\n\t\t</style></head><body><div class=\"container\"><div class=\"sidebar\"><div class=\"sidebar-content\"><div class=\"user-info\"><div class=\"user-name\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if role == "admin" {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, " style=\"color: #ff4444;\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, ">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var2 string
		templ_7745c5c3_Var2, templ_7745c5c3_Err = templ.JoinStringErrs(username)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/dashboard.templ`, Line: 354, Col: 86}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var2))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "</div><div class=\"user-name\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if role != "admin" {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, " style=\"color: #e0e0e0;\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, ">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var3 string
		templ_7745c5c3_Var3, templ_7745c5c3_Err = templ.JoinStringErrs(username)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/dashboard.templ`, Line: 355, Col: 86}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var3))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, "</div><div class=\"user-role\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var4 string
		templ_7745c5c3_Var4, templ_7745c5c3_Err = templ.JoinStringErrs(role)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/dashboard.templ`, Line: 356, Col: 35}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var4))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 8, "</div></div><h2>Documents</h2><div class=\"nav-item active\" onclick=\"showPage('documents')\">My Documents</div><div class=\"nav-item\" onclick=\"showPage('upload')\">Upload</div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if role == "admin" {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 9, "<h2>Admin</h2><div class=\"nav-item\" onclick=\"showPage('users')\">Users</div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 10, "</div><div class=\"sidebar-footer\"><button class=\"logout-btn\" onclick=\"logout()\">Logout</button></div></div><div class=\"main-content\"><div class=\"header\"><h1>Document Management System</h1></div><div class=\"content\"><div id=\"message\" class=\"message\"></div><!-- Documents Page --><div id=\"documents\" class=\"page active\"><h2 style=\"margin-bottom: 20px; font-size: 16px; color: #e0e0e0;\">My Documents</h2><button class=\"button button-secondary\" onclick=\"refreshFiles()\">Refresh</button><table class=\"file-table\" id=\"fileTable\" style=\"display: none;\"><thead><tr><th style=\"width: 50%;\">File Name</th><th style=\"width: 15%;\">Size</th><th style=\"width: 20%;\">Uploaded</th><th style=\"width: 15%;\">Actions</th></tr></thead> <tbody id=\"fileList\"></tbody></table><div class=\"empty-state\" id=\"emptyState\"><div>No documents</div><div style=\"font-size: 12px; margin-top: 10px; color: #555;\">Upload documents using the Upload page</div></div></div><!-- Upload Page --><div id=\"upload\" class=\"page\"><h2 style=\"margin-bottom: 20px; font-size: 16px; color: #e0e0e0;\">Upload Document</h2><div class=\"upload-zone\" id=\"uploadZone\"><p>Drag and drop files here or click to browse</p><p style=\"font-size: 12px; margin-top: 8px; color: #666;\">Maximum: 500 MB</p><input type=\"file\" id=\"fileInput\"></div><button class=\"button button-primary\" onclick=\"uploadFile()\">Upload</button></div><!-- Users Page (Admin only) --><div id=\"users\" class=\"page\"><h2 style=\"margin-bottom: 20px; font-size: 16px; color: #e0e0e0;\">User Management</h2><table class=\"user-list\" id=\"userTable\" style=\"display: none;\"><thead><tr><th style=\"width: 30%;\">Username</th><th style=\"width: 30%;\">Email</th><th style=\"width: 20%;\">Role</th><th style=\"width: 20%;\">Actions</th></tr></thead> <tbody id=\"userList\"></tbody></table><div class=\"empty-state\" id=\"emptyUsersState\"><div>No users found</div></div></div></div></div></div><script>\n\t\t\tconst uploadZone = document.getElementById('uploadZone');\n\t\t\tconst fileInput = document.getElementById('fileInput');\n\t\t\tconst messageDiv = document.getElementById('message');\n\n\t\t\tuploadZone.addEventListener('click', () => fileInput.click());\n\n\t\t\tuploadZone.addEventListener('dragover', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tuploadZone.classList.add('dragover');\n\t\t\t});\n\n\t\t\tuploadZone.addEventListener('dragleave', () => {\n\t\t\t\tuploadZone.classList.remove('dragover');\n\t\t\t});\n\n\t\t\tuploadZone.addEventListener('drop', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tuploadZone.classList.remove('dragover');\n\t\t\t\tfileInput.files = e.dataTransfer.files;\n\t\t\t});\n\n\t\t\tfunction getAuthHeader() {\n\t\t\t\tconst token = localStorage.getItem('token');\n\t\t\t\treturn token ? { 'Authorization': 'Bearer ' + token } : {};\n\t\t\t}\n\n\t\t\tfunction showPage(pageName) {\n\t\t\t\tconst pages = document.querySelectorAll('.page');\n\t\t\t\tconst navItems = document.querySelectorAll('.nav-item');\n\n\t\t\t\tpages.forEach(page => page.classList.remove('active'));\n\t\t\t\tnavItems.forEach(item => item.classList.remove('active'));\n\n\t\t\t\tdocument.getElementById(pageName).classList.add('active');\n\t\t\t\tevent.target.classList.add('active');\n\n\t\t\t\tif (pageName === 'documents') {\n\t\t\t\t\trefreshFiles();\n\t\t\t\t} else if (pageName === 'users') {\n\t\t\t\t\tloadUsers();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction showMessage(message, type) {\n\t\t\t\tmessageDiv.className = 'message show message-' + type;\n\t\t\t\tmessageDiv.textContent = message;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tmessageDiv.classList.remove('show');\n\t\t\t\t}, 4000);\n\t\t\t}\n\n\t\t\tasync function uploadFile() {\n\t\t\t\tconst file = fileInput.files[0];\n\t\t\t\tif (!file) {\n\t\t\t\t\tshowMessage('Please select a file', 'error');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst formData = new FormData();\n\t\t\t\tformData.append('file', file);\n\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await fetch('/api/upload', {\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\theaders: getAuthHeader(),\n\t\t\t\t\t\tbody: formData\n\t\t\t\t\t});\n\t\t\t\t\tconst data = await response.json();\n\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\tshowMessage('Document uploaded successfully', 'success');\n\t\t\t\t\t\tfileInput.value = '';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tshowMessage('Upload failed: ' + data.error, 'error');\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tshowMessage('Error: ' + error.message, 'error');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tasync function refreshFiles() {\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await fetch('/api/files', {\n\t\t\t\t\t\theaders: getAuthHeader()\n\t\t\t\t\t});\n\t\t\t\t\tconst data = await response.json();\n\n\t\t\t\t\tif (data.success && data.data.files && data.data.files.length > 0) {\n\t\t\t\t\t\tconst fileList = document.getElementById('fileList');\n\t\t\t\t\t\tfileList.innerHTML = data.data.files.map(file =>\n\t\t\t\t\t\t\t'<tr>' +\n\t\t\t\t\t\t\t'<td class=\"file-name\">' + escapeHtml(file.key) + '</td>' +\n\t\t\t\t\t\t\t'<td style=\"color: #888;\">' + formatBytes(file.size) + '</td>' +\n\t\t\t\t\t\t\t'<td style=\"color: #888; font-size: 12px;\">' + file.last_modified + '</td>' +\n\t\t\t\t\t\t\t'<td class=\"actions\">' +\n\t\t\t\t\t\t\t'<a href=\"/api/download?key=' + encodeURIComponent(file.key) + '\" class=\"button button-secondary\" style=\"padding: 6px 12px; font-size: 12px;\">Download</a>' +\n\t\t\t\t\t\t\t'<button class=\"button button-danger\" onclick=\"deleteFile(\\'' + escapeQuotes(file.key) + '\\')\">Delete</button>' +\n\t\t\t\t\t\t\t'</td>' +\n\t\t\t\t\t\t\t'</tr>'\n\t\t\t\t\t\t).join('');\n\t\t\t\t\t\tdocument.getElementById('fileTable').style.display = 'table';\n\t\t\t\t\t\tdocument.getElementById('emptyState').style.display = 'none';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdocument.getElementById('fileTable').style.display = 'none';\n\t\t\t\t\t\tdocument.getElementById('emptyState').style.display = 'block';\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tshowMessage('Error loading documents: ' + error.message, 'error');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tasync function loadUsers() {\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await fetch('/api/admin/users', {\n\t\t\t\t\t\theaders: getAuthHeader()\n\t\t\t\t\t});\n\t\t\t\t\tconst data = await response.json();\n\n\t\t\t\t\tif (data.success && data.data.users && data.data.users.length > 0) {\n\t\t\t\t\t\tconst userList = document.getElementById('userList');\n\t\t\t\t\t\tuserList.innerHTML = data.data.users.map(user => {\n\t\t\t\t\t\t\tlet roleClass = 'admin';\n\t\t\t\t\t\t\tif (user.role === 'uploader') roleClass = 'uploader';\n\t\t\t\t\t\t\tif (user.role === 'viewer') roleClass = 'viewer';\n\n\t\t\t\t\t\t\treturn '<tr>' +\n\t\t\t\t\t\t\t\t'<td>' + escapeHtml(user.username) + '</td>' +\n\t\t\t\t\t\t\t\t'<td style=\"color: #888;\">' + escapeHtml(user.email) + '</td>' +\n\t\t\t\t\t\t\t\t'<td><span class=\"role-badge ' + roleClass + '\">' + user.role + '</span></td>' +\n\t\t\t\t\t\t\t\t'<td class=\"actions\">' +\n\t\t\t\t\t\t\t\t'<button class=\"button button-danger\" onclick=\"deleteUser(\\'' + escapeQuotes(user.id) + '\\')\">Delete</button>' +\n\t\t\t\t\t\t\t\t'</td>' +\n\t\t\t\t\t\t\t\t'</tr>';\n\t\t\t\t\t\t}).join('');\n\t\t\t\t\t\tdocument.getElementById('userTable').style.display = 'table';\n\t\t\t\t\t\tdocument.getElementById('emptyUsersState').style.display = 'none';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdocument.getElementById('userTable').style.display = 'none';\n\t\t\t\t\t\tdocument.getElementById('emptyUsersState').style.display = 'block';\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tshowMessage('Error loading users: ' + error.message, 'error');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction deleteFile(key) {\n\t\t\t\tif (confirm('Delete this document?')) {\n\t\t\t\t\tfetch('/api/files?key=' + encodeURIComponent(key), {\n\t\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\t\theaders: getAuthHeader()\n\t\t\t\t\t}).then(response => response.json())\n\t\t\t\t\t.then(data => {\n\t\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\t\tshowMessage('Document deleted', 'success');\n\t\t\t\t\t\t\trefreshFiles();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tshowMessage('Delete failed: ' + data.error, 'error');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction deleteUser(userId) {\n\t\t\t\tif (confirm('Delete this user?')) {\n\t\t\t\t\tfetch('/api/admin/users/' + userId, {\n\t\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\t\theaders: getAuthHeader()\n\t\t\t\t\t}).then(response => response.json())\n\t\t\t\t\t.then(data => {\n\t\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\t\tshowMessage('User deleted', 'success');\n\t\t\t\t\t\t\tloadUsers();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tshowMessage('Delete failed: ' + data.error, 'error');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction escapeHtml(text) {\n\t\t\t\tconst div = document.createElement('div');\n\t\t\t\tdiv.textContent = text;\n\t\t\t\treturn div.innerHTML;\n\t\t\t}\n\n\t\t\tfunction escapeQuotes(text) {\n\t\t\t\treturn text.replace(/'/g, \"\\\\'\").replace(/\"/g, '\\\\\"');\n\t\t\t}\n\n\t\t\tfunction formatBytes(bytes) {\n\t\t\t\tif (bytes === 0) return '0 B';\n\t\t\t\tconst k = 1024;\n\t\t\t\tconst sizes = ['B', 'KB', 'MB', 'GB'];\n\t\t\t\tconst i = Math.floor(Math.log(bytes) / Math.log(k));\n\t\t\t\treturn Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];\n\t\t\t}\n\n\t\t\tfunction logout() {\n\t\t\t\tlocalStorage.removeItem('token');\n\t\t\t\twindow.location.href = '/login';\n\t\t\t}\n\n\t\t\twindow.onload = refreshFiles;\n\t\t</script></body></html>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
